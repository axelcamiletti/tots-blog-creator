<div class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">ğŸš€ Generar Nuevo ArtÃ­culo</h2>

  <form (ngSubmit)="generateArticle()" class="space-y-6">
    <!-- Tema del artÃ­culo -->
    <div>
      <label for="topic" class="block text-sm font-medium text-gray-700 mb-2">
        Tema del artÃ­culo *
      </label>
      <textarea
        id="topic"
        [(ngModel)]="topic"
        name="topic"
        rows="3"
        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        placeholder="Ej: Principios de diseÃ±o UX para aplicaciones mÃ³viles..."
        [disabled]="isGenerating"
        required>
      </textarea>
    </div>

    <!-- Segmento -->
    <div>
      <label for="segment" class="block text-sm font-medium text-gray-700 mb-2">
        Segmento (opcional)
      </label>
      <select
        id="segment"
        [(ngModel)]="segment"
        name="segment"
        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        [disabled]="isGenerating">
        <option value="">Seleccionar automÃ¡ticamente</option>
        <option *ngFor="let seg of segments" [value]="seg">{{ seg }}</option>
      </select>
    </div>

    <!-- Autor -->
    <div>
      <label for="author" class="block text-sm font-medium text-gray-700 mb-2">
        Autor
      </label>
      <input
        type="text"
        id="author"
        [(ngModel)]="author"
        name="author"
        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        placeholder="Nombre del autor"
        [disabled]="isGenerating">
    </div>

    <!-- Estado de generaciÃ³n -->
    <div *ngIf="generationStatus" class="p-4 rounded-md"
         [ngClass]="{
           'bg-blue-50 text-blue-700': isGenerating,
           'bg-green-50 text-green-700': generationStatus.includes('âœ…'),
           'bg-red-50 text-red-700': generationStatus.includes('âŒ')
         }">
      <div class="flex items-center">
        <div *ngIf="isGenerating" class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700 mr-2"></div>
        <span>{{ generationStatus }}</span>
      </div>
    </div>

    <!-- Botones -->
    <div class="flex gap-3">
      <button
        type="submit"
        [disabled]="isGenerating || !topic.trim()"
        class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
        <span *ngIf="!isGenerating">ğŸ¤– Generar ArtÃ­culo</span>
        <span *ngIf="isGenerating">â³ Generando...</span>
      </button>

      <button
        type="button"
        (click)="clearForm()"
        [disabled]="isGenerating"
        class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50">
        ğŸ—‘ï¸ Limpiar
      </button>
    </div>
  </form>

  <!-- Info adicional -->
  <div class="mt-6 p-4 bg-gray-50 rounded-md">
    <h3 class="text-sm font-medium text-gray-700 mb-2">â„¹ï¸ InformaciÃ³n:</h3>
    <ul class="text-sm text-gray-600 space-y-1">
      <li>â€¢ El proceso puede tomar 2-5 minutos</li>
      <li>â€¢ Se realizarÃ¡ investigaciÃ³n automÃ¡tica sobre el tema</li>
      <li>â€¢ Se generarÃ¡ una imagen de cabecera automÃ¡ticamente</li>
      <li>â€¢ El artÃ­culo serÃ¡ guardado en formato Markdown</li>
    </ul>
  </div>
</div>
